
/* ------------------------------
   Global Header (namespaced)
   Class prefix: .site-header*
   ------------------------------ */

.site-header,
.site-header * { box-sizing: border-box; }

.site-header {
  position: sticky;
  top: 0;
  z-index: var(--hdr-z);
  color: var(--hdr-fg);
  -webkit-tap-highlight-color: transparent;
}

/* Backdrop bar */
.site-header__bar {
  height: var(--hdr-h);
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: var(--hdr-gap);
  padding: 0 var(--hdr-pad);
  backdrop-filter: saturate(180%) blur(8px);
  background: var(--hdr-bg);
  border-bottom: 1px solid var(--hdr-border);
  transition: background 180ms ease, border-color 180ms ease, box-shadow 180ms ease;
}

/* Elevated shadow once you scroll */
.site-header.is-scrolled .site-header__bar {
  box-shadow: 0 8px 20px rgba(0,0,0,0.08);
}

/* Container */
.site-header__inner {
  width: 100%;
  max-width: var(--hdr-maxw);
  margin: 0 auto;
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: var(--hdr-gap);
}

/* Brand */
.site-header__brand {
  display: inline-flex;
  align-items: center;
  gap: 10px;
  font-weight: 700;
  letter-spacing: 0.2px;
  text-decoration: none;
  color: inherit;
  white-space: nowrap;
}

/* Desktop nav */
.site-header__nav { display: none; }
@media (min-width: 900px) {
  .site-header__nav { display: block; }
}
.site-header__list {
  display: flex; gap: 18px; align-items: center;
  list-style: none; margin: 0; padding: 0;
}
.site-header__link {
  text-decoration: none; color: inherit;
  padding: 8px 10px; border-radius: 8px; line-height: 1;
  transition: background 160ms ease, color 160ms ease;
}
.site-header__link:hover { background: rgba(0,0,0,0.05); }
.site-header__link[aria-current="page"] { color: var(--hdr-fg); }

/* Controls */
.site-header__controls { display: flex; align-items: center; gap: 8px; }

.site-header__btn {
  appearance: none; background: transparent; color: inherit;
  border-radius: 10px; padding: 8px 10px; line-height: 1; cursor: pointer;
  display: inline-flex; align-items: center; gap: 8px;
  transition: background 160ms ease, border-color 160ms ease, transform 80ms ease;
}
.site-header__btn:active { transform: scale(0.96); }
.site-header__btn:hover { background: rgba(0,0,0,0.05); }

/* Mobile menu button with icon swap */
.site-header__menu-btn { display: inline-flex; }
.site-header__menu-btn svg { display: block; }
.site-header__menu-btn .icon--close { display: none; }
.site-header[data-open="true"] .site-header__menu-btn .icon--menu { display: none; }
.site-header[data-open="true"] .site-header__menu-btn .icon--close { display: inline; }
@media (min-width: 900px) {
  .site-header__menu-btn { display: none; }
}

/* Scrim overlay (dims + blurs content below header) */
.site-header__overlay {
  position: fixed; left: 0; right: 0; bottom: 0; top: var(--hdr-h);
  z-index: calc(var(--hdr-z) - 1);
  background: var(--hdr-scrim);
  backdrop-filter: blur(6px);
  opacity: 0; pointer-events: none; transition: opacity 220ms ease;
}

/* Slide-down mobile panel */
.site-header__panel {
  position: fixed; left: 8px; right: 8px; top: calc(var(--hdr-h) + 8px);
  z-index: var(--hdr-z);
  max-height: calc(100dvh - var(--hdr-h) - 16px);
  overflow: auto;
  background: var(--hdr-panel-bg);
  border: 1px solid var(--hdr-border);
  border-radius: var(--hdr-br);
  box-shadow: 0 24px 48px rgba(0,0,0,0.16);
  transform: translateY(-10px);
  opacity: 0; pointer-events: none;
  transition: transform 220ms cubic-bezier(.2,.8,.2,1), opacity 220ms ease, border-color 180ms ease, background 180ms ease;
}
.site-header__panel-inner { padding: 10px; }
.site-header__panel-nav { list-style: none; margin: 0; padding: 4px; display: grid; gap: 6px; }
.site-header__panel-link {
  display: block; text-decoration: none; color: inherit;
  padding: 12px 14px; border-radius: 10px;
  transition: background 150ms ease, color 150ms ease;
}
.site-header__panel-link:hover { background: rgba(0,0,0,0.06); }
.site-header__panel-link[aria-current="page"] { color: var(--hdr-accent); font-weight: 600; }

/* Open state */
.site-header[data-open="true"] .site-header__overlay { opacity: 1; pointer-events: auto; }
.site-header[data-open="true"] .site-header__panel { transform: translateY(0); opacity: 1; pointer-events: auto; }

/* Focus visibility just for header controls */
:where(.site-header__link, .site-header__panel-link, .site-header__btn, .site-header__menu-btn):focus-visible {
  outline: 0px solid var(--hdr-accent);
  outline-offset: 2px;
  border-radius: 10px;
}

/* Motion respect */
@media (prefers-reduced-motion: reduce) {
  .site-header__overlay, .site-header__panel, .site-header__bar { transition: none; }
}

.sr-only {
  position: absolute; width: 1px; height: 1px; padding: 0; margin: -1px;
  overflow: hidden; clip: rect(0, 0, 1px, 1px); white-space: nowrap; border: 0;
}